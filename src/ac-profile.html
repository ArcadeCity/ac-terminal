<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/ac-style/ac-style.html">
<link rel="import" href="../bower_components/ac-button/ac-button.html">

<link rel="import" href="ac-sizeview.html">
<link rel="import" href="ac-avatar.html">

<dom-module id="ac-profile">
  <!-- Defines the element's style and local DOM -->
  <template>
    <style>
      :host {
        display: block;
        width: 100%;
        height: 100%;
      }

      .total {
        display: block;
        width: 100%;
        height: 100%;
        background-color: var(--ac-base);
        overflow-y: scroll;
      }

      .whitespace {
        width: 100%;
        height: 20px;        
      }

      .profilepic {
        display: block;
        width: 100%;
        box-sizing: border-box;
        padding: 10vh 0px 5vh 0px;     
        @apply(--layout-vertical);
        @apply(--layout-center-center);
        border: 2px dotted rgba(255,255,255,0.05);
      }

      .uploadbtn {

      }

      .profileusername {
        display: block;
        width: 100%;
        height: 200px;
        @apply(--layout-horizontal);
        @apply(--layout-center-center);               
      }

      .scrollcontainer {
        width: 100%;
        background-color: var(--ac-base);
      }


    </style>

    <div class="total">
      <div class="scrollcontainer">
      <div class="profilepic">

          <ac-avatar
            username="{{identity.username}}"
            artwork="https://pbs.twimg.com/profile_images/2849872800/cbe52909627305c4d0ca07f5ca94edeb_400x400.png"
            pubkey="{{account}}"
            mode="imgbigonly">
          </ac-avatar>
          <div class="whitespace"></div>
          <ac-button icon="ac-upload" txtcolor="yellow" bg="btncolor" small>upload new picture</ac-button>

      </div>
      <div class="profileusername">
      </div>
      </div>
    </div>


    </template>

    <iron-localstorage
      name="ac-profile"
      value="{{userdata}}"
      on-iron-localstorage-load-empty="initprofile"
      on-iron-localstorage-load="loadprofile">
    </iron-localstorage>


  </template>

  <script>
    Polymer({
      is: 'ac-profile',
      properties: {
    
      },

      ready: function() {
      },

      _is: function(a, b) {
        if (b === undefined){
          b = true;
        }
        //console.log(a ,'(',typeof a,') is',b,'(',typeof b,') they are equal for ==',a == b,', they are equal for ===',a === b);
        return a === b;
      },

    _sizeview: function(){
      switch(this.sizeview) {
          case 'phone':
                this.customStyle['--avatar-size'] = '90px';
              this.updateStyles();
              break;
          case 'desktop':
                this.customStyle['--avatar-size'] = '130px';
              this.updateStyles();
              break;
          case 'xlarge':
                this.customStyle['--avatar-size'] = '130px';
              this.updateStyles();
              break;
          default:
          console.log("!!! ** Niks");
      }
    }


    });
  </script>
</dom-module>
