<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-localstorage/iron-localstorage.html">
<link rel="import" href="../../bower_components/neon-animation/neon-animation.html">
<link rel="import" href="../../bower_components/ac-button/ac-button.html">

<link rel="import" href="ac-sizeview.html">
<link rel="import" href="ac-avatar.html">
<link rel="import" href="ac-balance.html">
<link rel="import" href="ac-wallet.html">
<link rel="import" href="ac-vault.html">

<dom-module id="ac-home">
  <template>
    <style>
    :host {
      display: block;
      margin: 0px;
      padding: 0px;
      --title-big: 40px;
      --title-bigheight: 46px;
      width: 100%;
      height: 100vh;

    }

    .white {
      color: white;
    }

    neon-animated-pages {
      height: 100%;
    }

    .hometotal {
      background-color: var(--ac-base);
      height: 100%;
    }

    ac-avatar {
      width: 100%;
      box-sizing: border-box;
      padding: 0px 0px 16px 10vw;
      height: 16vh;
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      background-color: var(--ac-base);
      z-index: 3;
      @apply(--layout-horizontal);
      @apply(--layout-end);

    }

    ac-balance {
      width: 100%;
      margin: 16vh 0px 3vh 0px;
      height: 27vh;
    }

    .games {
      width: 100%;
      @apply(--layout-vertical);
      @apply(--layout-center-center);
      box-sizing: border-box;
      padding: 0px 10vw 0px 10vw;
    }

    .games ac-button {
      margin-top: 5px;
      width: 100%;
      /*background-color: rgba(255,255,255,0.015);*/
      background-color: #251C4A;
      @apply(--base-shadow-and-inset);
    }

    .square {
      height: 80vw;
    }



    </style>

    <!-- When loading -->
    <!-- <ac-spinner></ac-spinner> -->
    <ac-vault
      password="{{password}}"
      currentwallet="{{wallet}}"
      currentidentity="{{identity}}">      
    </ac-vault>

    <neon-animated-pages id="homepages" attr-for-selected="state" selected="{{state}}" entry-animation="slide-from-right-animation" exit-animation="slide-left-animation">

      <neon-animatable state="home">
      <div class="hometotal">

        <ac-avatar
          username="{{identity.username}}"
          artwork="{{identity.avatarurl}}"
          mode="big"
          on-tap="toProfile">
        </ac-avatar>

        <ac-balance
          refcur="EUR"
          on-tap="toWallet"
          arcbalance="{{arcbalance}}"
          ethbalance="{{ethbalance}}">
        </ac-balance>

        <div class="games">
          <ac-button txtbtn txtcolor="red" bg="base">Ridesharing</ac-button>
          <ac-button txtbtn txtcolor="red" bg="base" disabled>ArcBnB</ac-button>
          <ac-button txtbtn txtcolor="red" bg="base" disabled>Geekangels</ac-button>
          <ac-button txtbtn txtcolor="red" bg="base" disabled>DogWalkers</ac-button>
        </div>

      </div>
      </neon-animatable>

      <neon-animatable state="profile">
        <!-- The Profile view -->
        <ac-button
          bg="base"
          icon="declinenew"
          on-tap="toHome"
          small
          id="exitbtn"
          txtcolor="turquoise">
        </ac-button>

        <ac-profile
          profiledata="{{vault.profiledata}}">
        </ac-profile>

      </neon-animatable>

      <neon-animatable state="wallet">

        <!-- The Wallet view -->
        <ac-button
          bg="base"
          icon="declinenew"
          on-tap="toHome"
          small
          id="exitbtn"
          txtcolor="turquoise">
        </ac-button>

        <ac-wallet
          walletdata="{{wallet}}"
          arcbalance="{{arcbalance}}"
          ethbalance="{{ethbalance}}">
        </ac-wallet>

      </neon-animatable>

      <neon-animatable state="backup">

        <!-- The backup view -->

      </neon-animatable>

      <neon-animatable state="userprefs">

        <!-- The user prefs view -->

      </neon-animatable>

    </neon-animated-pages>

  </template>

  <script>
    Polymer({

      is: 'ac-home',

      properties: {
        prop1: {
          type: String,
          value: 'ac-home',
        },
      },

      ready: function() {
        this.state = 'home';
      },

      toHome: function() {

        this.state = 'home';
      },

      toWallet: function() {
        this.state = 'wallet';
      },

      toProfile: function() {
        this.state = 'profile';
      }

    });

</script>
</dom-module>
